VAGRANTFILE_API_VERSION = "2"

Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|

  config.vm.box = "precise32"
  config.vm.box_url = "http://files.vagrantup.com/precise32.box"

  config.vm.provider "virtualbox" do |v|
    v.name = "zato20"
    v.gui = true
  end

  config.vm.hostname = "zato11"
  config.ssh.shell = "bash -c 'BASH_ENV=/etc/profile exec bash'"

  config.vm.define "zato20" do |z|

  # Repository update & install curl
  z.vm.provision "shell", inline: "apt-get update"
  z.vm.provision "shell", inline: "apt-get -y install curl"

  # Helper programs used for installing
  z.vm.provision "shell", inline: "apt-get -y install apt-transport-https"
  z.vm.provision "shell", inline: "apt-get -y install python-software-properties"

  # Add the package signing key
  z.vm.provision "shell", inline: "curl -s https://zato.io/repo/zato-0CBD7F72.pgp.asc | apt-key add -"

  # Add Zato repo and update sources
  z.vm.provision "shell", inline: "apt-add-repository https://zato.io/repo/stable/2.0/ubuntu"
  z.vm.provision "shell", inline: "apt-get update"

  # Install Zato
  z.vm.provision "shell", inline: "apt-get -y install zato"

  # Set the default password
  z.vm.provision "shell", inline: "echo zato:zato | chpasswd"

  end
end
